(function(t){function e(e){for(var a,l,u=e[0],r=e[1],c=e[2],d=0,b=[];d<u.length;d++)l=u[d],Object.prototype.hasOwnProperty.call(s,l)&&s[l]&&b.push(s[l][0]),s[l]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);o&&o(e);while(b.length)b.shift()();return n.push.apply(n,c||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],a=!0,u=1;u<i.length;u++){var r=i[u];0!==s[r]&&(a=!1)}a&&(n.splice(e--,1),t=l(l.s=i[0]))}return t}var a={},s={app:0},n=[];function l(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.m=t,l.c=a,l.d=function(t,e,i){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(i,a,function(e){return t[e]}.bind(null,a));return i},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],r=u.push.bind(u);u.push=e,u=u.slice();for(var c=0;c<u.length;c++)e(u[c]);var o=r;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var a=i("85ec"),s=i.n(a);s.a},"0a16":function(t,e,i){"use strict";var a=i("f7db"),s=i.n(a);s.a},2735:function(t,e,i){},"48d7":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),s=i("5c96"),n=i.n(s),l=(i("0fae"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",[t._v("Lavida Character Manager")]),i("character")],1)}),u=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"character"},[i("div",{staticClass:"toptop"},[i("el-button",{on:{click:t.load}},[t._v("从文件读取角色")]),i("el-button",{on:{click:t.save}},[t._v("保存角色到文件")]),i("el-button",{on:{click:function(e){t.noteVisible=!0}}},[t._v("记录")])],1),i("div",{staticClass:"top"},[i("el-card",{staticClass:"basic"},[i("b",{attrs:{slot:"header"},slot:"header"},[t._v("基本信息")]),i("div",{staticClass:"multi"},[i("span",{staticClass:"item"},[t._v("玩家："),i("editable",{model:{value:t.attributes.player,callback:function(e){t.$set(t.attributes,"player",e)},expression:"attributes.player"}})],1),i("span",{staticClass:"item"},[t._v("姓名："),i("editable",{model:{value:t.attributes.name,callback:function(e){t.$set(t.attributes,"name",e)},expression:"attributes.name"}})],1),i("span",{staticClass:"item"},[t._v("时代："),i("editable",{model:{value:t.attributes.time,callback:function(e){t.$set(t.attributes,"time",e)},expression:"attributes.time"}})],1),i("span",{staticClass:"item"},[t._v("职业："),i("editable",{model:{value:t.attributes.profession,callback:function(e){t.$set(t.attributes,"profession",e)},expression:"attributes.profession"}})],1),i("span",{staticClass:"item"},[t._v("性别："),i("editable",{attrs:{options:[{label:"男",value:!0},{label:"女",value:!1}]},model:{value:t.attributes.isMale,callback:function(e){t.$set(t.attributes,"isMale",e)},expression:"attributes.isMale"}})],1),i("span",{staticClass:"item"},[t._v("年龄："),i("editable",{attrs:{number:{min:0}},model:{value:t.attributes.age,callback:function(e){t.$set(t.attributes,"age",e)},expression:"attributes.age"}})],1),i("span",{staticClass:"item"},[t._v("住地："),i("editable",{model:{value:t.attributes.place,callback:function(e){t.$set(t.attributes,"place",e)},expression:"attributes.place"}})],1),i("span",{staticClass:"item"},[t._v("故乡："),i("editable",{model:{value:t.attributes.hometown,callback:function(e){t.$set(t.attributes,"hometown",e)},expression:"attributes.hometown"}})],1)])]),i("attributes",{staticClass:"attributes",model:{value:t.attributes,callback:function(e){t.attributes=e},expression:"attributes"}})],1),i("div",{staticClass:"center"},[i("el-card",{staticClass:"variables"},[i("b",{attrs:{slot:"header"},slot:"header"},[t._v("基本变量")]),i("div",{staticClass:"multi"},[i("el-card",{staticClass:"item"},[i("variable",{attrs:{name:"体力 HP"},model:{value:t.attributes.HP,callback:function(e){t.$set(t.attributes,"HP",e)},expression:"attributes.HP"}})],1),i("el-card",{staticClass:"item"},[i("variable",{attrs:{name:"理智 SAN"},model:{value:t.attributes.SAN,callback:function(e){t.$set(t.attributes,"SAN",e)},expression:"attributes.SAN"}})],1),i("el-card",{staticClass:"item"},[i("variable",{attrs:{name:"魔法 MP",max:t.attributes.MaxMP},model:{value:t.attributes.MP,callback:function(e){t.$set(t.attributes,"MP",e)},expression:"attributes.MP"}})],1)],1)]),i("skills",{staticClass:"skills",attrs:{total:null==t.attributes.EDU?0:5*t.attributes.EDU},model:{value:t.skills,callback:function(e){t.skills=e},expression:"skills"}})],1),i("el-drawer",{attrs:{visible:t.noteVisible,title:"角色 "+t.attributes.name+" 的记录",direction:"rtl",size:"300px"},on:{"update:visible":function(e){t.noteVisible=e}}},[i("el-input",{staticClass:"note-input",attrs:{type:"textarea",resize:"none",rows:"16"},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}})],1)],1)},c=[],o=(i("a4d3"),i("e01a"),i("d28b"),i("b0c0"),i("a9e3"),i("b64b"),i("d3b7"),i("25f0"),i("3ca3"),i("ddb0"),i("2b3d"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-card",[i("div",{attrs:{slot:"header"},slot:"header"},[i("b",[t._v("角色属性")]),i("el-button",{staticClass:"header-button",attrs:{type:"text"},on:{click:function(e){t.dialog=t.dice=!0}}},[t._v("快速开局")]),i("el-dialog",{attrs:{visible:t.dialog,width:"80%"},on:{"update:visible":function(e){t.dialog=e},closed:function(e){t.dice=!1}}},[i("div",{staticClass:"dialog-wrapper"},[i("div",{staticClass:"dice-wrapper"},[t.dice?i("dice",{attrs:{min:1,max:6},on:{result:t.diceFinish}}):t._e(),t.diceFinished?t._e():i("div",{staticClass:"dice-total"},[t._v("累计点数："+t._s(t.total))]),t.diceFinished?t._e():i("div",{staticClass:"dice-total"},[t._v("第"+t._s(t.round)+"/"+t._s(t.roundMax)+"轮 第"+t._s(t.step)+"/"+t._s(t.stepMax)+"次")])],1),i("div",{staticClass:"dialog-tags"},[i("div",{staticClass:"dialog-attrtags"},[t._l(t.diceAttributes,(function(e,a){return i("span",{key:a,staticClass:"dialog-tag"},[t._v(" "+t._s(e.name)+"： "),i("el-button",{on:{click:function(e){return t.setAttr(a)}}},[t._v(t._s(null==e.value?"???":e.value))])],1)})),i("span",{staticClass:"dialog-tag"},[t._v("移动 MOV："),i("b",{staticClass:"dialog-number"},[t._v(t._s(t.aMOV))])]),i("span",{staticClass:"dialog-tag"},[t._v("幸运 Luck："),i("el-input",{staticClass:"dialog-input",attrs:{type:"number",min:0,max:70,value:t.aLuck},on:{input:function(e){t.aLuck=1*e}}})],1),i("span",{staticClass:"dialog-tag"},[t._v("信用评级："),i("el-input",{staticClass:"dialog-input",attrs:{type:"number",min:0,max:70,value:t.aMoney},on:{input:function(e){t.aLuck=70-e}}})],1),i("span",{staticClass:"dialog-tag"},[t._v("体力 HP："),i("b",{staticClass:"dialog-number"},[t._v(t._s(t.aHP))])]),i("span",{staticClass:"dialog-tag"},[t._v("魔法 MP："),i("b",{staticClass:"dialog-number"},[t._v(t._s(t.aMP))])]),t.canSave?i("el-button",{staticClass:"dialog-tag",attrs:{icon:"el-icon-check",circle:""},on:{click:t.save}}):t._e()],2),i("el-divider"),i("div",t._l(t.diceResults,(function(e,a){return i("el-button",{key:a,staticClass:"dialog-tag",attrs:{type:t.selected==a?"primary":null},on:{click:function(e){t.selected=t.selected==a?null:a}}},[t._v(t._s(e))])})),1)],1)])])],1),i("div",{staticClass:"multi"},[i("el-card",{staticClass:"item"},[i("attribute",{attrs:{name:"力量 STR",value:t.value.STR}})],1),i("el-card",{staticClass:"item"},[i("attribute",{attrs:{name:"体质 CON",value:t.value.CON}})],1),i("el-card",{staticClass:"item"},[i("attribute",{attrs:{name:"体型 SIZ",value:t.value.SIZ}})],1),i("el-card",{staticClass:"item"},[i("attribute",{attrs:{name:"敏捷 DEX",value:t.value.DEX}})],1),i("el-card",{staticClass:"item"},[i("attribute",{attrs:{name:"外貌 APP",value:t.value.APP}})],1),i("el-card",{staticClass:"item"},[i("attribute",{attrs:{name:"智力 INT",value:t.value.INT}})],1),i("el-card",{staticClass:"item"},[i("attribute",{attrs:{name:"意志 POW",value:t.value.POW}})],1),i("el-card",{staticClass:"item"},[i("attribute",{attrs:{name:"教育 EDU",value:t.value.EDU}})],1),i("el-card",{staticClass:"item"},[i("variable",{attrs:{name:"移动 MOV",value:t.value.MOV,constant:""}})],1),i("el-card",{staticClass:"item"},[i("variable",{attrs:{name:"幸运 Luck",value:t.value.Luck,constant:""}})],1),i("el-card",{staticClass:"item"},[i("variable",{attrs:{name:"信用评级",value:t.value.Money,constant:""}})],1)],1)])}),d=[],b=(i("4de4"),i("4160"),i("a434"),i("e439"),i("dbb4"),i("159b"),i("ade3")),v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper"},[i("div",{staticClass:"dice"},[i("div",{staticClass:"number",style:t.diceUpperStyle},[t._v(t._s(t.upper))]),i("div",{staticClass:"number",class:{emphasized:t.emphasized},style:t.diceLowerStyle},[t._v(t._s(t.lower))])]),i("el-button",{staticClass:"button",on:{click:function(e){t.stop=!0}}},[t._v("STOP")]),null==t.basic?i("div",{staticClass:"bonus"},[t._v(" 奖励骰子 "),i("el-switch",{model:{value:t.bonus,callback:function(e){t.bonus=e},expression:"bonus"}})],1):i("div",{staticClass:"bonus"},[t._v(" 基础点数："+t._s(t.basic)+" ")])],1)},p=[],m={props:{min:Number,max:Number},data:function(){return{upper:0,lower:0,stop:!1,timer:null,interval:1,position:0,emphasized:!1,bonus:!1,basic:null}},computed:{len:function(){return this.max-this.min+1},diceUpperStyle:function(){return{top:this.position-100+"%"}},diceLowerStyle:function(){return{top:this.position+"%"}}},mounted:function(){var t=this;this.timer=setInterval((function(){return t.nextFrame()}),this.interval)},beforeDestroy:function(){null!=this.timer&&clearInterval(this.timer)},methods:{nextFrame:function(){var t=this;if(this.stop)if(this.interval<40)clearInterval(this.timer),this.timer=setInterval((function(){return t.nextFrame()}),this.interval+=1);else if(!this.position)return clearInterval(this.timer),this.timer=null,void(this.bonus?null==this.basic?this.emphasize((function(){t.basic=t.lower,t.upper=t.lower=0,t.stop=!1,t.interval=1,t.timer=setInterval((function(){return t.nextFrame()}),t.interval)})):this.emphasize((function(){return t.$emit("result",t.basic-t.lower)})):this.emphasize((function(){return t.$emit("result",t.lower)})));if((this.position+=4)>=100){this.position=0;var e=null==this.basic?this.len:6,i=null==this.basic?this.min:1,a=Math.floor(Math.random()*e)+i;this.lower=this.upper,this.upper=a}},emphasize:function(t){var e=this;this.emphasized=!0,this.timer=setInterval((function(){clearInterval(e.timer),e.timer=null,e.emphasized=!1,t()}),500)}}},h=m,f=(i("7c0c"),i("2877")),g=Object(f["a"])(h,v,p,!1,null,"6f9c56f9",null),C=g.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper"},[i("b",{staticClass:"tag"},[t._v(t._s(t.name))]),i("b",{staticClass:"value",style:{color:t.valueColor}},[t._v(t._s(null==t.value?"--":t.value))]),null!=t.value?i("el-popover",{attrs:{trigger:"hover"}},[i("div",{staticClass:"check-hover"},[i("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.checkOpen(2)}}},[t._v("困难")]),i("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.checkOpen(5)}}},[t._v("极难")])],1),i("el-button",{staticClass:"check-button",attrs:{slot:"reference",icon:"icon-dice",circle:""},on:{click:function(e){return t.checkOpen(1)}},slot:"reference"})],1):t._e(),i("el-dialog",{attrs:{visible:t.dialog,width:"300px"},on:{"update:visible":function(e){t.dialog=e},closed:t.checkClose}},[i("div",{staticClass:"check"},[t.dice?i("dice",{attrs:{min:1,max:100},on:{result:function(e){t.diceResult=e}}}):t._e(),null!=t.diceResult?i("b",{staticClass:"check-text",style:{color:t.diceResultColor}},[t._v(t._s(t.diceResultText))]):t._e()],1)])],1)},k=[],y={components:{Dice:C},props:{name:String,value:Number},data:function(){return{dialog:!1,dice:!1,diceResult:null,difficulty:1}},computed:{valueColor:function(){return null==this.value||this.value<30?"red":this.value<70?"orange":"green"},diceResultText:function(){return null==this.diceResult?"":this.diceResult<=this.value/this.difficulty?this.diceResult<=1?"大成功":"成功":this.diceResult>=96?"大失败":"失败"},diceResultColor:function(){return this.diceResult<=this.value/this.difficulty?"green":"red"}},methods:{checkOpen:function(t){this.dialog=!0,this.dice=!0,this.difficulty=t},checkClose:function(){this.dice=!1,this.diceResult=null}}},x=y,O=(i("d44d"),Object(f["a"])(x,_,k,!1,null,"37c8f67b",null)),M=O.exports,P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper"},[i("b",{staticClass:"tag"},[t._v(t._s(t.name))]),t.editable?i("el-popover",{attrs:{trigger:"hover"}},[i("el-input",{staticClass:"hover-input",attrs:{type:"number",min:1},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),i("el-button",{staticClass:"hover-button",attrs:{size:"mini",icon:"el-icon-minus",circle:""},on:{click:function(e){return t.plus(-t.input)}}}),i("el-button",{staticClass:"hover-button",attrs:{size:"mini",icon:"icon-dice",circle:""},on:{click:function(e){return t.diceOpen(1*t.input,!0)}}}),i("el-button",{attrs:{slot:"reference",size:"mini",icon:"el-icon-minus",circle:""},on:{click:function(e){return t.plus(-1)}},slot:"reference"})],1):t._e(),i("b",{staticClass:"value",style:{color:t.valueColor}},[t._v(t._s(null==t.value?"--":t.value)+t._s(null==t.max?"":"/"+t.max))]),t.editable?i("el-popover",{attrs:{trigger:"hover"}},[i("el-input",{staticClass:"hover-input",attrs:{type:"number",min:1},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),i("el-button",{staticClass:"hover-button",attrs:{size:"mini",icon:"el-icon-plus",circle:""},on:{click:function(e){return t.plus(1*t.input)}}}),i("el-button",{staticClass:"hover-button",attrs:{size:"mini",icon:"icon-dice",circle:""},on:{click:function(e){return t.diceOpen(1*t.input,!1)}}}),i("el-button",{attrs:{slot:"reference",size:"mini",icon:"el-icon-plus",circle:""},on:{click:function(e){return t.plus(1)}},slot:"reference"})],1):t._e(),i("el-dialog",{attrs:{visible:t.dialog,width:"300px"},on:{"update:visible":function(e){t.dialog=e},closed:t.diceClose}},[i("div",{staticClass:"check"},[t.dice?i("dice",{attrs:{min:1,max:t.dice.max},on:{result:t.diceFinish}}):t._e(),null!=t.diceResult?i("b",{staticClass:"check-text",style:{color:t.diceResultColor}},[t._v(t._s(t.diceResult.old)+" → "+t._s(t.value))]):t._e()],1)])],1)},w=[],S={components:{Dice:C},props:{name:String,value:Number,max:Number,constant:Boolean},data:function(){return{input:"1",dialog:!1,dice:null,diceResult:null}},computed:{editable:function(){return!this.constant&&null!=this.value},valueColor:function(){if(null==this.value)return"red";if(null==this.max)return this.value<=0?"red":"green";var t=this.value/this.max;return t<.3?"red":t<.7?"orange":"green"},diceResultColor:function(){return this.dice.minus?"red":"green"}},methods:{plus:function(t){var e=1*this.value+t;null!=this.max&&e>this.max&&(e=this.max),this.$emit("input",e)},diceOpen:function(t,e){this.dialog=!0,this.dice={max:t,minus:e}},diceFinish:function(t){this.diceResult={old:this.value,delta:t};var e=1*this.value+t*(this.dice.minus?-1:1);null!=this.max&&e>this.max&&(e=this.max),this.$emit("input",e)},diceClose:function(){this.dice=null,this.diceResult=null}}},A=S,R=(i("d3cc"),Object(f["a"])(A,P,w,!1,null,"a4465aa2",null)),j=R.exports;function $(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function L(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?$(Object(i),!0).forEach((function(e){Object(b["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):$(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var N={components:{Dice:C,Attribute:M,Variable:j},props:{value:Object},data:function(){return{dialog:!1,dice:!1,roundMax:8,round:1,step:1,total:0,diceAttributes:[{name:"力量 STR",value:null},{name:"体质 CON",value:null},{name:"体型 SIZ",value:null},{name:"敏捷 DEX",value:null},{name:"外貌 APP",value:null},{name:"智力 INT",value:null},{name:"意志 POW",value:null},{name:"教育 EDU",value:null}],diceResults:[],selected:null,aLuck:35}},computed:{stepMax:function(){return this.round>6?2:3},diceFinished:function(){return this.round>this.roundMax},aMOV:function(){return 7+(this.diceAttributes[0].value>this.diceAttributes[2].value)+(this.diceAttributes[3].value>this.diceAttributes[2].value)},aMoney:function(){return 70-this.aLuck},aHP:function(){return Math.floor((this.diceAttributes[1].value+this.diceAttributes[2].value)/10)},aMP:function(){return this.diceAttributes[5].value/5},canSave:function(){if(this.aLuck<0||this.aMoney<0)return!1;var t=!0,e=!1,i=void 0;try{for(var a,s=this.diceAttributes[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var n=a.value;if(null==n.value)return!1}}catch(l){e=!0,i=l}finally{try{t||null==s.return||s.return()}finally{if(e)throw i}}return!0}},methods:{pushResult:function(t){var e=0;while(e<this.diceResults.length&&this.diceResults[e]>t)e++;this.diceResults.splice(e,0,t)},diceFinish:function(t){var e=this;if(!this.diceFinished){if(this.total+=t,++this.step>this.stepMax){if(this.pushResult(5*this.total),++this.round>this.roundMax)return;this.total=this.round>6?5:0,this.step=1}this.dice=!1,this.$nextTick((function(){return e.dice=!0}))}},setAttr:function(t){null==this.diceAttributes[t].value?null!=this.diceResults[this.selected]&&(this.diceAttributes[t].value=this.diceResults[this.selected],this.diceResults.splice(this.selected,1),this.selected=null):(this.pushResult(this.diceAttributes[t].value),this.diceAttributes[t].value=null)},save:function(){this.$emit("input",L({},this.value,{STR:this.diceAttributes[0].value,CON:this.diceAttributes[1].value,SIZ:this.diceAttributes[2].value,DEX:this.diceAttributes[3].value,APP:this.diceAttributes[4].value,INT:this.diceAttributes[5].value,POW:this.diceAttributes[6].value,EDU:this.diceAttributes[7].value,MOV:this.aMOV,Luck:this.aLuck,Money:this.aMoney,HP:this.aHP,SAN:99,MP:this.aMP})),this.dialog=!1,this.round=1,this.step=1,this.total=0;var t=!0,e=!1,i=void 0;try{for(var a,s=this.diceAttributes[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var n=a.value;n.value=null}}catch(l){e=!0,i=l}finally{try{t||null==s.return||s.return()}finally{if(e)throw i}}this.diceResults=[],this.selected=null,this.aLuck=35}}},E=N,z=(i("6757"),Object(f["a"])(E,o,d,!1,null,"59edae7e",null)),D=z.exports,I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-card",[i("div",{attrs:{slot:"header"},slot:"header"},[i("b",[t._v("技能点数")]),i("el-button",{staticClass:"header-button",attrs:{type:"text"},on:{click:function(e){t.dialog=!0}}},[t._v("分配点数")])],1),t.dialog?i("div",[i("div",{staticClass:"dialog-top"},[i("span",{staticClass:"dialog-top-text"},[t._v("剩余可分配点数："+t._s(t.total-t.points))]),i("el-button",{on:{click:function(e){t.dialog=!1}}},[t._v("返回")]),i("el-button",{on:{click:t.save}},[t._v("确认")])],1),i("div",{staticClass:"skills-multi"},[t._l(t.skillList,(function(e,a){return i("div",{key:a,staticClass:"skill"},[i("span",{style:{"font-size":e.name.length>3?e.name.length>4?"12px":"15px":null}},[t._v(t._s(e.name)+" ")]),i("el-input",{staticClass:"dialog-input",attrs:{type:"number",min:0,max:100-e.basic,value:e.add},on:{input:function(e){return t.assign(a,1*e)}}}),t._v(" + "+t._s(e.basic)+" = "),i("b",{style:{color:t.colorList[a]}},[t._v(t._s(e.basic+e.add))])],1)})),i("div",{staticClass:"skill"},[t._v(" 自定义 "),i("el-input",{staticClass:"dialog-custom",model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),t.input.length>0?i("el-button",{staticClass:"dialog-button",on:{click:t.custom}},[t._v("添加")]):t._e()],1)],2)]):i("div",{staticClass:"skills-multi"},t._l(t.value,(function(t,e){return i("attribute",{key:e,staticClass:"skill",attrs:{name:t.name,value:t.value}})})),1)])},T=[],F=(i("d81d"),{components:{Attribute:M},props:{value:Array,total:Number},data:function(){return{dialog:!1,points:0,skillList:[{name:"会计",basic:5,add:0},{name:"人类学",basic:1,add:0},{name:"估价",basic:5,add:0},{name:"考古学",basic:1,add:0},{name:"魅惑",basic:15,add:0},{name:"攀爬",basic:20,add:0},{name:"计算机",basic:5,add:0},{name:"克苏鲁神话",basic:0,add:0},{name:"乔装",basic:5,add:0},{name:"汽车驾驶",basic:20,add:0},{name:"电类维修",basic:10,add:0},{name:"电子学",basic:1,add:0},{name:"话术",basic:5,add:0},{name:"斗殴",basic:25,add:0},{name:"剑术",basic:20,add:0},{name:"手枪",basic:20,add:0},{name:"枪械",basic:25,add:0},{name:"急救",basic:30,add:0},{name:"历史",basic:5,add:0},{name:"恐吓",basic:15,add:0},{name:"跳跃",basic:20,add:0},{name:"法律",basic:5,add:0},{name:"图书馆使用",basic:20,add:0},{name:"聆听",basic:20,add:0},{name:"锁匠",basic:1,add:0},{name:"机类维修",basic:10,add:0},{name:"医学",basic:1,add:0},{name:"博物学",basic:10,add:0},{name:"领航",basic:10,add:0},{name:"神秘学",basic:5,add:0},{name:"重机",basic:1,add:0},{name:"说服",basic:10,add:0},{name:"精神分析",basic:1,add:0},{name:"心理学",basic:10,add:0},{name:"骑术",basic:5,add:0},{name:"药学",basic:1,add:0},{name:"妙手",basic:10,add:0},{name:"侦察",basic:25,add:0},{name:"潜行",basic:20,add:0},{name:"游泳",basic:20,add:0},{name:"投掷",basic:20,add:0},{name:"追踪",basic:10,add:0},{name:"潜水",basic:1,add:0},{name:"原力",basic:0,add:0},{name:"圣光",basic:0,add:0},{name:"MC生存",basic:10,add:0},{name:"MC建筑",basic:10,add:0},{name:"MC红石",basic:5,add:0},{name:"MC战斗",basic:10,add:0},{name:"MC跑酷",basic:10,add:0},{name:"MC模组",basic:10,add:0},{name:"MC命令方块",basic:1,add:0}],input:""}},computed:{colorList:function(){return this.skillList.map((function(t){var e=t.basic+t.add;return e<30?"red":e<70?"orange":"green"}))}},methods:{assign:function(t,e){var i=this.skillList[t];if(!(e<0||i.basic+e>100)){var a=e-i.add;this.points+a>this.total||(i.add=e,this.points+=a)}},custom:function(){this.skillList.push({name:this.input,basic:0,add:0}),this.input=""},save:function(){var t=[],e=!0,i=!1,a=void 0;try{for(var s,n=this.skillList[Symbol.iterator]();!(e=(s=n.next()).done);e=!0){var l=s.value,u=l.basic+l.add;u>0&&t.push({name:l.name,value:u}),l.add=0}}catch(r){i=!0,a=r}finally{try{e||null==n.return||n.return()}finally{if(i)throw a}}this.points=0,this.$emit("input",t),this.dialog=!1}}}),V=F,U=(i("0a16"),Object(f["a"])(V,I,T,!1,null,"1bc17aba",null)),H=U.exports,W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.editing?i("span",[t.options?i("el-select",{staticClass:"input",model:{value:t.input,callback:function(e){t.input=e},expression:"input"}},t._l(t.options,(function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1):t.number?i("el-input",{staticClass:"input",attrs:{type:"number",min:t.number.min,max:t.number.max},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}):i("el-input",{staticClass:"input",model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),t.canSave?i("el-button",{attrs:{icon:"el-icon-check",circle:""},on:{click:t.save}}):t._e(),t.canClose?i("el-button",{attrs:{icon:"el-icon-close",circle:""},on:{click:t.cancel}}):t._e()],1):i("span",[t._v(" "+t._s(t.display)+" "),i("el-button",{attrs:{icon:"el-icon-edit",circle:""},on:{click:t.edit}})],1)},X=[],Z={props:["value","options","number"],data:function(){return{editing:!1,input:null}},watch:{value:function(t){this.editing=null==t}},computed:{display:function(){if(this.options){var t=!0,e=!1,i=void 0;try{for(var a,s=this.options[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var n=a.value;if(n.value==this.value)return n.label}}catch(l){e=!0,i=l}finally{try{t||null==s.return||s.return()}finally{if(e)throw i}}}return this.value},canSave:function(){return null!=this.input&&(null==this.input.length||this.input.length>0)&&(null==this.number||(null==this.number.min||this.input>=this.number.min)&&(null==this.number.max||this.input<=this.number.max))},canClose:function(){return null!=this.value}},mounted:function(){null==this.value&&this.edit()},methods:{edit:function(){this.editing=!0,this.input=this.value},save:function(){this.editing=!1,this.$emit("input",this.input)},cancel:function(){this.editing=!1}}},J=Z,B=(i("5eaa"),Object(f["a"])(J,W,X,!1,null,"e6bcd0c6",null)),q=B.exports,G={components:{Attributes:D,Skills:H,Editable:q,Attribute:M,Variable:j},data:function(){return{attributes:{player:"Merlin",name:"石块",time:"瘟疫危机",profession:"防疫专家",isMale:!1,age:30,place:"武汉",hometown:"石家庄",STR:50,CON:50,SIZ:50,DEX:50,APP:50,INT:50,POW:50,EDU:50,MOV:7,Luck:35,Money:35,HP:10,SAN:99,MaxMP:10,MP:10},skills:[{name:"检疫",value:100},{name:"急救",value:80},{name:"聆听",value:70},{name:"妙手",value:60}],noteVisible:!1,note:""}},methods:{load:function(){var t=this,e=document.createElement("input");e.type="file",e.accept="application/json",e.onchange=function(e){if(!(e.target.files.length<=0)){var i=new FileReader;i.onload=function(i){var a;try{a=JSON.parse(i.target.result)}catch(e){return void t.$message({type:"error",message:e.toString()})}var s={},n=[];if(null==a.attributes&&(a.attributes={}),null==a.skills&&(a.skills=[]),s=a.attributes,Array.isArray(a.skills)){var l=!0,u=!1,r=void 0;try{for(var c,o=a.skills[Symbol.iterator]();!(l=(c=o.next()).done);l=!0){var d=c.value;if(null!=d.name&&null!=d.value){var b=Number(d.value);isFinite(b)&&n.push({name:d.name.toString(),value:b})}}}catch(f){u=!0,r=f}finally{try{l||null==o.return||o.return()}finally{if(u)throw r}}}else for(var v=0,p=Object.keys(a.skills);v<p.length;v++){var m=p[v];if(null!=a.skills[m]){var h=Number(a.skills[m]);isFinite(h)&&n.push({name:m,value:h})}}t.attributes=s,t.skills=n,null!=a.note&&(t.note=a.note.toString())},i.readAsText(e.target.files[0])}},e.click()},save:function(){var t={attributes:this.attributes,skills:this.skills,note:this.note},e=new Blob([JSON.stringify(t)],{type:"application/json"}),i=URL.createObjectURL(e),a=document.createElement("a");a.href=i,a.download=this.attributes.name+".json",a.click(),URL.revokeObjectURL(i)}}},K=G,Q=(i("b9b7"),Object(f["a"])(K,r,c,!1,null,"4ebeafe3",null)),Y=Q.exports,tt={components:{Character:Y}},et=tt,it=(i("034f"),Object(f["a"])(et,l,u,!1,null,null,null)),at=it.exports;a["default"].config.productionTip=!1,a["default"].use(n.a),new a["default"]({render:function(t){return t(at)}}).$mount("#app")},"5dfd":function(t,e,i){},"5eaa":function(t,e,i){"use strict";var a=i("2735"),s=i.n(a);s.a},6757:function(t,e,i){"use strict";var a=i("7074"),s=i.n(a);s.a},7074:function(t,e,i){},"7c0c":function(t,e,i){"use strict";var a=i("99cd"),s=i.n(a);s.a},"85ec":function(t,e,i){},9752:function(t,e,i){},"99cd":function(t,e,i){},b9b7:function(t,e,i){"use strict";var a=i("48d7"),s=i.n(a);s.a},d3cc:function(t,e,i){"use strict";var a=i("9752"),s=i.n(a);s.a},d44d:function(t,e,i){"use strict";var a=i("5dfd"),s=i.n(a);s.a},f7db:function(t,e,i){}});
//# sourceMappingURL=app.245a79f6.js.map